
Да, можно выполнить команды Linux через Lua скрипт с помощью функции `io.popen()`. Вот пример Lua скрипта, который выводит список файлов в указанной папке:

```lua
function list_files_in_directory(directory_path)
    local command = 'ls -p "' .. directory_path .. '" | grep -v /'
    local handle = io.popen(command)
    local result = handle:read('*a')
    handle:close()
    return result
end

-- Пример использования:
local directory_path = '/путь/к/папке'
local files = list_files_in_directory(directory_path)
print('Список файлов:')
print(files)
```

Этот скрипт выполняет команду `ls -p`, которая выводит содержимое указанной папки, а флаг `-p` добавляет к имени файла символ `/` для обозначения папок. Затем команда `grep -v /` используется для фильтрации только файлов, исключая папки из списка.

Вы можете изменить `directory_path` на путь к вашей папке, чтобы получить список файлов в этой папке.

Аналогично, вы можете создать функцию для вывода списка папок:

```lua
function list_directories_in_directory(directory_path)
    local command = 'ls -d */ "' .. directory_path .. '"'
    local handle = io.popen(command)
    local result = handle:read('*a')
    handle:close()
    return result
end

-- Пример использования:
local directory_path = '/путь/к/папке'
local directories = list_directories_in_directory(directory_path)
print('Список папок:')
print(directories)
```

Этот скрипт также использует команду `ls`, но с флагом `-d */`, который выводит только имена папок, а затем фильтрует результаты с помощью Lua скрипта.
