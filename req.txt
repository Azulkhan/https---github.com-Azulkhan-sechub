function urlencode(str)
    local encoded = ""
    for i = 1, #str do
        local c = str:sub(i, i)
        if c == "+" then
            encoded = encoded .. "%2B"
        elseif c == "=" then
            encoded = encoded .. "%3D"
        elseif c == "/" then
            encoded = encoded .. "%2F"
        else
            encoded = encoded .. c
        end
    end
    return encoded
end

-- Пример использования
local username = "my+name=is/awesome="
local encoded_username = urlencode(username)
print(encoded_username)  -- выводит "my%2Bname%3Dis%2Fawesome%3D"
