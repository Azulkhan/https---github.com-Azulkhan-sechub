Если ваш XML представлен в одной строке, и у вас есть функция для преобразования XML в JSON или строку, но вы сталкиваетесь с проблемой, что значения в конце строкы (`/n`) не распознаются должным образом, вам нужно убедиться, что вы правильно обрабатываете входные данные перед передачей их функции.

Проблема с символом `/n` может возникать из-за неэкранированных символов в вашей строке XML, если она не была корректно сформатирована до использования функции `xmljsonstring`. В Lua можно использовать стандартные методы для удаления символов новой строки, таких как `string.gsub`, чтобы очистить входную строку от нежелательных символов перед обработкой. 

Вот пример использования `string.gsub` для удаления всех символов новой строки из строки XML перед её обработкой функцией `xmljsonstring`:

```lua
-- Ваша исходная XML-строка
local xml_string = "<root><tag1>значение1</tag1><tag2>значение2</tag2></root>\n"

-- Удаление всех символов новой строки из строки XML
xml_string = xml_string:gsub("[\r\n]", "")

-- Вызов вашей функции для преобразования XML в JSON-строку
local json_string = xmljsonstring(xml_string)

-- Вывод результата
print("JSON строка: ", json_string)
```

Этот код использует `string.gsub("[\r\n]", "")`, чтобы удалить все символы новой строки (`\r` и `\n`) из `xml_string` перед передачей его в вашу функцию `xmljsonstring`. Это поможет устранить проблему, когда символ `/n` влияет на обработку вашего XML.

Если у вас есть конкретные проблемы с функцией `xmljsonstring` или требуется больше помощи, пожалуйста, уточните, и я постараюсь предложить более точное решение.