
Возможно, проблема связана с тем, что функции `upload()` не возвращают промисы. Убедитесь, что `upload()` возвращает промисы, чтобы цепочка `.then()` правильно выполнялась. Вот пример того, как это может быть сделано:

```javascript
item1.upload = function() {
  // Возвращает промис, например, через $http
  return $http.post('/upload', data);
};

item2.upload = function() {
  // Возвращает промис
  return $http.post('/upload', data);
};

item1.upload()
  .then(function() {
    return item2.upload();
  })
  .then(function() {
    $scope.confirm();
  })
  .catch(function(error) {
    console.error('Ошибка:', error);
  });
```

Убедитесь, что `upload()` возвращает промисы, чтобы обеспечить правильную последовательность выполнения.
